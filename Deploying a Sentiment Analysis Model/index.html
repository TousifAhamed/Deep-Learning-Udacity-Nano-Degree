<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Sentiment Analysis Web App</title>
        <meta charset="utf-8">
        <meta name="viewport"  content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        <script>
         "use strict";
         function submitForm(oFormElement) {
             var xhr = new XMLHttpRequest();
             xhr.onload = function() {
                 var result = parseFloat(xhr.responseText);
                 var resultElement = document.getElementById('result');
				 var resultsmile = document.getElementById('smile');
				 // console.info(result)
                 if (result == 0) {
                     resultElement.className = 'bg-danger';
					 resultsmile.className = 'sad';
                     resultElement.innerHTML = 'Your review was NEGATIVE!';
                 } else {
                     resultElement.className = 'bg-success';
					 resultsmile.className = 'happy';
                     resultElement.innerHTML = 'Your review was POSITIVE!';
                 }
             }
             xhr.open (oFormElement.method, oFormElement.action, true);
             var review = document.getElementById('review');
             xhr.send (review.value);
             return false;
         }
        </script>
		<style>
		.smile {
			display: inline-block;
			width: 50px;
			height: auto;
		}
		.smile.happy, .smile.sad {
			display: none;
		}
		.happy .smile.happy{
			display: inline-block;
		}
		.sad .smile.sad {
			display: inline-block;
		}
		</style>

    </head>
    <body>

        <div class="container">
            <h1>Is your review positive, or negative?</h1>
            <p>Enter your review below and click submit to find out...</p>
            <form method="POST"
                  action="https://o6j7waj907.execute-api.us-east-2.amazonaws.com/production"
                  onsubmit="return submitForm(this);" >                     <!-- HERE IS WHERE YOU NEED TO ENTER THE API URL -->
                <div class="form-group">
                    <label for="review">Review:</label>
                    <textarea class="form-control" placeholder="Please write your review here..." rows="5" id="review"></textarea>
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>
            <h1 class="bg-success" id="result"></h1>
			<div id="smile">
				<div class="smile happy">
				<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
		 viewBox="0 0 42 42" style="enable-background:new 0 0 42 42;" xml:space="preserve">
					<g>
						<circle style="fill:#FBD971;" cx="21" cy="21" r="21"/>
						<path style="fill:#F0C419;" d="M21,36c-6.617,0-12-5.383-12-12c0-0.553,0.448-1,1-1s1,0.447,1,1c0,5.514,4.486,10,10,10
							s10-4.486,10-10c0-0.553,0.448-1,1-1s1,0.447,1,1C33,30.617,27.617,36,21,36z"/>
						<path style="fill:#E64C3C;" d="M12.545,10.702C12.983,9.7,13.982,9,15.146,9c1.567,0,2.695,1.294,2.837,2.837
							c0,0,0.077,0.383-0.092,1.072c-0.229,0.939-0.769,1.773-1.496,2.409l-3.85,3.317L8.76,15.319c-0.727-0.636-1.267-1.471-1.496-2.409
							c-0.169-0.689-0.092-1.072-0.092-1.072C7.314,10.294,8.442,9,10.009,9C11.172,9,12.107,9.7,12.545,10.702z"/>
						<path style="fill:#E64C3C;" d="M29.39,10.702C29.828,9.7,30.828,9,31.991,9c1.567,0,2.695,1.294,2.837,2.837
							c0,0,0.077,0.383-0.092,1.072c-0.229,0.939-0.769,1.773-1.496,2.409l-3.85,3.317l-3.785-3.317
							c-0.727-0.636-1.267-1.471-1.496-2.409c-0.169-0.689-0.092-1.072-0.092-1.072C24.159,10.294,25.288,9,26.854,9
							C28.018,9,28.952,9.7,29.39,10.702z"/>
					</g>
					</svg>
				</div>
				<div class="smile sad">
				<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					 viewBox="0 0 473.935 473.935" style="enable-background:new 0 0 473.935 473.935;" xml:space="preserve">
				<circle style="fill:#FFC10E;" cx="236.967" cy="236.967" r="236.967"/>
				<g>
					<path style="fill:#333333;" d="M356.671,354.1c-66.23-67.618-174.251-67.337-240.096,0.703
						c-8.389,8.666,4.827,21.908,13.227,13.227c58.87-60.834,154.379-61.204,213.641-0.703
						C351.896,375.96,365.116,362.721,356.671,354.1L356.671,354.1z"/>
					<circle style="fill:#333333;" cx="164.938" cy="155.232" r="37.216"/>
					<circle style="fill:#333333;" cx="305.667" cy="155.232" r="37.216"/>
				</g>
				<path style="fill:#A2D4DE;" d="M343.167,188.612c0,0-27.517,33.874-27.517,68.819c0,15.203,12.31,27.521,27.513,27.525
					c15.218-0.007,27.532-12.325,27.532-27.528C370.695,240.507,343.167,188.612,343.167,188.612z"/>
				</svg>
				</div>
			</div>
        </div>
    </body>
</html>